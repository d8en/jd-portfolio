@use "./blur" as *;

$bezierScale: 0.2s cubic-bezier(0, 1.4, 0.41, 1.56);

@mixin aniPulse {
    animation-name: aniPulse;
    animation-duration: 1.5s;
    animation-play-state: running;
    animation-timing-function: cubic-bezier(0.25, 0.5, 0.25, 0.5);
    animation-iteration-count: infinite;
}

@keyframes aniPulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }

    100% {
        transform: scale(1.8);
        opacity: 0;
    }
}

@mixin aniBeforePulse {
    &:before {
        border-radius: 2000px;
        position: absolute;
        content: "";
        background-color: var(--greyBg);
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        z-index: -1;
        @include aniPulse;
    }
}

@mixin aniScaleIn {
    transition: transform $bezierScale, opacity $bezierScale, bottom $bezierScale;
}

@mixin aniHoverOnly {
    transition: background-color 0.3s, border 0.3s;
}

@mixin _aniWipe($delay) {
    &::before {
        animation-name: aniWipe;
        animation-duration: 0.5s;
        animation-delay: $delay * 0.2s;
        animation-play-state: running;
        animation-fill-mode: forwards;
        animation-timing-function: cubic-bezier(1, 0, 0.4, 0.8);
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        content: "";
        color: transparent;
        @include baseBlur;
    }
}

@keyframes aniWipe {
    100% {
        left: 100%;
        @include unsetBlur;
    }
}

@mixin aniWipe {
    &:nth-child(1) {
        @include _aniWipe(0);
    }
    &:nth-child(2) {
        @include _aniWipe(1);
    }
    &:nth-child(3) {
        @include _aniWipe(2);
    }
    &:nth-child(4) {
        @include _aniWipe(3);
    }
}

@mixin aniSkelly {
    animation-name: aniSkelly;
    animation-duration: 1s;
    animation-play-state: running;
    animation-iteration-count: infinite;
    animation-direction: alternate;
}

@keyframes aniSkelly {
    0% {
        filter: brightness(.8)
    }
    100% {
        filter: brightness(1)
    }
}
